<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Audiobook MP3 Speed Converter</title>

    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- import FFmpeg classes (local) -->
    <script type="module">
        import { FFmpeg } from "./libs/ffmpeg/classes.js";
        window.ffmpegModule = { FFmpeg };
    </script>

    <!-- local JSZip -->
    <script src="./libs/jszip.min.js"></script>

    <script defer src="./app.js"></script>
</head>
<body>
    <main class="container">
        <header class="header">
            <h1>Audiobook MP3 Speed Converter</h1>
            <p class="subtitle">Fast audiobook speed adjustments â€” keeps cover art and ID3 tags</p>
        </header>

        <section class="panel">
            <div id="dropZone" class="dropzone" title="Click to select or drop MP3 files">
                <input id="fileInput" class="fileInput" type="file" accept=".mp3" multiple>

                <div class="drop-content">
                    <svg class="icon" viewBox="0 0 24 24" width="36" height="36" aria-hidden="true">
                        <path fill="currentColor" d="M5 20h14v-2H5v2zm7-18L5.33 9h3.67v6h6V9h3.67L12 2z"/>
                    </svg>
                    <div>
                        <strong>Drag & drop MP3 files here</strong>
                        <div class="muted">or click to select (only .mp3)</div>
                    </div>
                </div>
            </div>
            
            <div class="files-panel">
                <h2>Selected files</h2>
                <div id="fileList" class="file-list">
                    <div class="muted">No files selected</div>
                </div>
            </div>

            <div class="controls">
                <label class="label">Playback speed: <span id="speedValue">x1.30</span></label>
                <input id="speedInput" type="range" min="0.5" max="2.0" step="0.05" value="1.30" class="slider">

                <div class="row">
                    <div id="totalTime" class="small-muted" style="align-self:center;">Total after conversion: 00:00:00</div>
                    <div style="flex:1"></div>
                    <button id="convertBtn" class="btn primary">Convert & Download (separate MP3 files)</button>
                    <button id="zipBtn" class="btn">Download as ZIP</button>
                    <button id="clearBtn" class="btn danger">Clear</button>
                </div>
            </div>

            <div class="log-panel">
                <div class="log-header">
                    <span>Log</span>
                    <span id="statusSmall" class="muted"></span>
                </div>
                <div id="log" class="log"></div>
            </div>
        </section>
    </main>
</body>
</html>
